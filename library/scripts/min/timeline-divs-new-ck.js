jQuery.fn.timeline=function(e){var s=jQuery.extend({orientation:"horizontal",containerDiv:"#timeline",datesDiv:"#dates",datesSelectedClass:"selected",datesSpeed:"slow",issuesDiv:"#issues",issuesSelectedClass:"selected",issuesSpeed:"medium",issuesTransparency:.2,issuesTransparencySpeed:500,startAt:1},e);$(function(){var e=$(s.datesDiv+" div").length,i=$(s.issuesDiv+" div").length,t=$(s.datesDiv).find("a."+s.datesSelectedClass),a=$(s.issuesDiv).find("div."+s.issuesSelectedClass),d=$(s.containerDiv).width(),n=d,l=$(s.datesDiv).width(),r=100;$("body").find(".historyEntry").css("width",d),$(s.issuesDiv).width(d*i),$(s.datesDiv).width(r*e).css("marginLeft",d/2-r/2),defaultPositionDates=parseInt($(s.datesDiv).css("marginLeft").substring(0,$(s.datesDiv).css("marginLeft").indexOf("px"))),$(s.datesDiv+" a").click(function(e){e.preventDefault();var i=$(this).parent().prevAll().length;$(s.issuesDiv).animate({marginLeft:-d*i},{queue:!1,duration:s.issuesSpeed}),$(s.issuesDiv+" div").animate().removeClass(s.issuesSelectedClass).eq(i).addClass(s.issuesSelectedClass).fadeTo(s.issuesTransparencySpeed,1),$(s.datesDiv+" a").removeClass(s.datesSelectedClass),$(this).addClass(s.datesSelectedClass),$(s.datesDiv).animate({marginLeft:defaultPositionDates-r*i},{queue:!1,duration:"opts.datesSpeed"})}),$(s.datesDiv+" div").eq(s.startAt-1).find("a").trigger("click")})};