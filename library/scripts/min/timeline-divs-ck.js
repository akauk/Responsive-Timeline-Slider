function autoPlay(){var e=$(opts.datesDiv).find("a."+opts.datesSelectedClass);"forward"==opts.autoPlayDirection?e.parent().is("div:last-child")?$(opts.datesDiv+" div:first-child").find("a").trigger("click"):e.parent().next().find("a").trigger("click"):"backward"==opts.autoPlayDirection&&(e.parent().is("div:first-child")?$(opts.datesDiv+" div:last-child").find("a").trigger("click"):e.parent().prev().find("a").trigger("click"))}jQuery.fn.timeline=function(e){var s=jQuery.extend({orientation:"horizontal",containerDiv:"#timeline",datesDiv:"#dates",datesSelectedClass:"selected",datesSpeed:"slow",issuesDiv:"#issues",issuesSelectedClass:"selected",issuesSpeed:"fast",issuesTransparency:.2,issuesTransparencySpeed:500,prevButton:"#prev",nextButton:"#next",arrowKeys:"false",startAt:1,autoPlay:"false",autoPlayDirection:"forward",autoPlayPause:2e3},e);$(function(){var e=$(s.datesDiv+" div").length,i=$(s.issuesDiv+" div").length,t=$(s.datesDiv).find("a."+s.datesSelectedClass),a=$(s.issuesDiv).find("div."+s.issuesSelectedClass),d=$(s.containerDiv).width(),n=$(s.containerDiv).height(),l=$(s.issuesDiv).width(),o=$(s.issuesDiv).height(),r=$(s.issuesDiv+" div").width(),v=$(s.issuesDiv+" div").height(),c=$(s.datesDiv).width(),u=$(s.datesDiv).height(),D=$(s.datesDiv+" div").width(),g=$(s.datesDiv+" div").height();console.log("Issues "+i),console.log("Current date "+t),console.log("Current issue "+a),console.log("Container width "+d),console.log("Container height "+n),console.log("Div width "+l),console.log("Div height "+o),console.log("Dates Width"+D),$(s.issuesDiv).width(r*i),$(s.datesDiv).width(D*e).css("marginLeft",d/2-D/2);var h=parseInt($(s.datesDiv).css("marginLeft").substring(0,$(s.datesDiv).css("marginLeft").indexOf("px")));console.log("dates position"+h),$(s.datesDiv+" a").click(function(e){e.preventDefault();var i=$(this).text(),t=$(this).parent().prevAll().length;$(s.issuesDiv).animate({marginLeft:-r*t},{queue:!1,duration:s.issuesSpeed}),$(s.issuesDiv+" div").animate().removeClass(s.issuesSelectedClass).eq(t).addClass(s.issuesSelectedClass).fadeTo(s.issuesTransparencySpeed,1),$(s.datesDiv+" a").removeClass(s.datesSelectedClass),$(this).addClass(s.datesSelectedClass),$(s.datesDiv).animate({marginLeft:h-D*t},{queue:!1,duration:"opts.datesSpeed"})}),$(s.datesDiv+" div").eq(s.startAt-1).find("a").trigger("click"),"true"==s.autoPlay&&setInterval("autoPlay()",s.autoPlayPause)})};